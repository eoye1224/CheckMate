// @ts-nocheck
<<<<<<< HEAD
'use strict';
const PrettyError = require('pretty-error');
const prettyError = new PrettyError();
prettyError.withoutColors();
prettyError.skipPackage('html-plugin-evaluation');
prettyError.skipNodeFiles();
prettyError.skip(function (traceLine) {
  return traceLine.path === 'html-plugin-evaluation';
});
=======
"use strict";

let prettyError;

function getPrettyError() {
  if (!prettyError) {
    // lazily require to improve startup time since pretty-error is rather heavy package
    const PrettyError = require("pretty-error");
    prettyError = new PrettyError();
    prettyError.withoutColors();
    prettyError.skipPackage("html-plugin-evaluation");
    prettyError.skipNodeFiles();
    prettyError.skip(function (traceLine) {
      return traceLine.path === "html-plugin-evaluation";
    });
  }
  return prettyError;
}
>>>>>>> features/task-display-and-function

module.exports = function (err, context) {
  return {
    toHtml: function () {
<<<<<<< HEAD
      return 'Html Webpack Plugin:\n<pre>\n' + this.toString() + '</pre>';
=======
      return "Html Webpack Plugin:\n<pre>\n" + this.toString() + "</pre>";
>>>>>>> features/task-display-and-function
    },
    toJsonHtml: function () {
      return JSON.stringify(this.toHtml());
    },
    toString: function () {
      try {
<<<<<<< HEAD
        return prettyError.render(err).replace(/webpack:\/\/\/\./g, context);
=======
        return getPrettyError()
          .render(err)
          .replace(/webpack:\/\/\/\./g, context);
>>>>>>> features/task-display-and-function
      } catch (e) {
        // This can sometimes fail. We don't know why, but returning the
        // original error is better than returning the error thrown by
        // pretty-error.
        return err;
      }
<<<<<<< HEAD
    }
=======
    },
>>>>>>> features/task-display-and-function
  };
};
