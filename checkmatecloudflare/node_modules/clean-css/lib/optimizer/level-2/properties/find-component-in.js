<<<<<<< HEAD
var compactable = require('../compactable');
=======
var configuration = require('../../configuration');
>>>>>>> features/task-display-and-function

function findComponentIn(shorthand, longhand) {
  var comparator = nameComparator(longhand);

  return findInDirectComponents(shorthand, comparator) || findInSubComponents(shorthand, comparator);
}

function nameComparator(to) {
<<<<<<< HEAD
  return function (property) {
=======
  return function(property) {
>>>>>>> features/task-display-and-function
    return to.name === property.name;
  };
}

function findInDirectComponents(shorthand, comparator) {
  return shorthand.components.filter(comparator)[0];
}

function findInSubComponents(shorthand, comparator) {
  var shorthandComponent;
  var longhandMatch;
  var i, l;

<<<<<<< HEAD
  if (!compactable[shorthand.name].shorthandComponents) {
=======
  if (!configuration[shorthand.name].shorthandComponents) {
>>>>>>> features/task-display-and-function
    return;
  }

  for (i = 0, l = shorthand.components.length; i < l; i++) {
    shorthandComponent = shorthand.components[i];
    longhandMatch = findInDirectComponents(shorthandComponent, comparator);

    if (longhandMatch) {
      return longhandMatch;
    }
  }
<<<<<<< HEAD

  return;
=======
>>>>>>> features/task-display-and-function
}

module.exports = findComponentIn;
